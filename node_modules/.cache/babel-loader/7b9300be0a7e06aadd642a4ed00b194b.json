{"ast":null,"code":"var _jsxFileName = \"/home/dhakad/Documents/AI/Frontend_Test/src/views/examples/Autocomo.js\";\nimport React, { useState } from \"react\";\nimport Autocomplete from 'react-autocomplete';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom'; // import \"./Autocomo.css\"\n\nimport \"../Search_Bar.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport dotenv from 'dotenv';\ndotenv.config(); // require('dotenv').config({ path: require('find-config')('.env') })\n\nfunction AutoComo() {\n  const history = useHistory();\n\n  const goLogin = () => history.push('login');\n\n  const [value, setVal] = useState();\n  const [items, setItems] = useState([]); // var value = \"\"\n\n  function handleChange(VariableName) {\n    const url = process.env.REACT_APP_ELASTIC_URL + process.env.REACT_APP_ELASTIC_ECONOMICS_INDEX + '/_search';\n    console.log(url);\n    var query = {\n      \"query\": {\n        \"bool\": {\n          \"must\": [{\n            \"fuzzy\": {\n              \"VariablePath\": VariableName\n            }\n          }]\n        }\n      },\n      \"aggs\": {\n        \"varpath\": {\n          \"terms\": {\n            \"field\": \"VariablePath.keyword\"\n          }\n        }\n      },\n      \"size\": 0\n    };\n    axios.post(url, query).then(d => {\n      if (d.status === 200) {\n        //console.log(d.data);\n        let data_list = d.data.aggregations.varpath.buckets;\n        let list = data_list.map(s => {\n          return {\n            'label': s.key.split(\"/\").join(\" > \"),\n            'path': \"AI-Economics/\" + s.key.substring(s.key.indexOf('/') + 1)\n          };\n        });\n        console.log(list);\n        setItems(list);\n      } else {\n        console.log(\"err\");\n      }\n    }).catch(error => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log(\"Error!\");\n      }\n    });\n  }\n\n  const divStyles = {\n    left: \"0px\",\n    top: \"50px\",\n    maxHeight: \"30%\",\n    overflow: \"auto\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    renderInput: params => /*#__PURE__*/React.createElement(\"input\", Object.assign({\n      type: \"text\"\n    }, params, {\n      className: \"searchTerm\",\n      placeholder: \"Search AI Economics \",\n      style: {\n        width: \"52vw\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    })),\n    getItemValue: item => item.path,\n    items: items,\n    renderItem: (item, isHighlighted) => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '9px',\n        background: isHighlighted ? 'teal' : 'white'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/${item.path}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    }, item.label)),\n    value: value,\n    onChange: e => {\n      setVal(e.target.value);\n      handleChange(e.target.value);\n    },\n    renderMenu: items => /*#__PURE__*/React.createElement(\"div\", {\n      style: divStyles,\n      children: items,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }) // onSelect={(val) => {setVal(val);console.log(\"val\",val)}}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"butt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"searchButton\",\n    onClick: e => {\n      if (items.length !== 0) {\n        history.push(items[0].path);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 18\n    }\n  })))));\n}\n\nexport default AutoComo;","map":{"version":3,"sources":["/home/dhakad/Documents/AI/Frontend_Test/src/views/examples/Autocomo.js"],"names":["React","useState","Autocomplete","axios","useHistory","BrowserRouter","Router","Switch","Route","Link","dotenv","config","AutoComo","history","goLogin","push","value","setVal","items","setItems","handleChange","VariableName","url","process","env","REACT_APP_ELASTIC_URL","REACT_APP_ELASTIC_ECONOMICS_INDEX","console","log","query","post","then","d","status","data_list","data","aggregations","varpath","buckets","list","map","s","key","split","join","substring","indexOf","catch","error","divStyles","left","top","maxHeight","overflow","params","width","item","path","isHighlighted","padding","background","label","e","target","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Autocomplete from 'react-autocomplete';\nimport axios from 'axios'\nimport { useHistory } from 'react-router-dom';\n// import \"./Autocomo.css\"\nimport \"../Search_Bar.css\"\nimport {BrowserRouter as Router,Switch,Route,Link} from \"react-router-dom\";\nimport dotenv from 'dotenv';\ndotenv.config();\n// require('dotenv').config({ path: require('find-config')('.env') })\n\nfunction AutoComo() {\n\n  const history = useHistory();\n  const goLogin = () => history.push('login');\n    \n    const [value,setVal] = useState()\n    const [items,setItems] = useState([])\n\n    \n    // var value = \"\"\n\n    function handleChange(VariableName){\n      const url = process.env.REACT_APP_ELASTIC_URL+process.env.REACT_APP_ELASTIC_ECONOMICS_INDEX+'/_search'\n      console.log(url)\n      var query = {\n        \"query\": {\n          \"bool\": {\n            \"must\": [\n              {\"fuzzy\": {\"VariablePath\": VariableName}}\n            ]\n          }\n        },\n        \"aggs\": {\n          \"varpath\" : {\n            \"terms\": {\n              \"field\": \"VariablePath.keyword\"\n            }\n          }\n        },\n        \"size\": 0\n      }\n\n      \n        \n        \n        axios.post(url, query)\n          .then( d => {\n            if(d.status === 200 ){\n              //console.log(d.data);\n              let data_list = d.data.aggregations.varpath.buckets\n              let list = data_list.map(s => {\n              return {'label' :s.key.split(\"/\").join(\" > \"),'path':\"AI-Economics/\"+s.key.substring(s.key.indexOf('/')+1)}\n              })\n              console.log(list)\n              setItems(list)\n            }\n            else{\n              console.log(\"err\")\n            }\n          })\n          .catch( error => {\n            if (error) {\n              console.log(error)\n            }\n            else{\n              console.log(\"Error!\");\n            }\n          });\n    }\n\n    \n    const divStyles = {\n      left: \"0px\",\n      top: \"50px\",\n      maxHeight: \"30%\",\n      overflow:\"auto\"\n\n    } \n\n      return (\n        <div className=\"wrap\" >\n            <div className=\"search\">\n               {/* <input type=\"text\" class=\"searchTerm\" placeholder=\"Soon to be Universal Intutive Search Bar 🤗\"  /> */}\n               <Autocomplete\n\n                renderInput={(params) => (\n                  <input type=\"text\" {...params} className=\"searchTerm\" placeholder=\"Search AI Economics \" style={{width:\"52vw\"}} /> \n                )}\n                getItemValue={(item) => item.path}\n                items={items}\n                renderItem={(item, isHighlighted) =>\n                  <div style={{ padding:'9px',background: isHighlighted ? 'teal' : 'white' }}>\n                  <Link to={`/${item.path}`}>\n                    {item.label}\n                    </Link>\n                  </div>\n                }\n                value={value}\n                onChange={(e) => {setVal(e.target.value);handleChange(e.target.value)}}\n                renderMenu={(items) =>  <div style={divStyles} children={items}/>}\n                \n                // onSelect={(val) => {setVal(val);console.log(\"val\",val)}}\n              />\n\n               <div className =\"butt\">\n               <button type=\"submit\" className=\"searchButton\" onClick={(e) => {\n                 if(items.length !== 0){\n                history.push(items[0].path)\n                 }\n                }\n                 }>\n                 <i className=\"fa fa-search\"></i>\n              </button>\n              </div>\n            </div>\n         </div> \n      )\n\n}\n\n\n\n\n\nexport default AutoComo;"]},"metadata":{},"sourceType":"module"}