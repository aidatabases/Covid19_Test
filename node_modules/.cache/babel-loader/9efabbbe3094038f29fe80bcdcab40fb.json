{"ast":null,"code":"var _jsxFileName = \"/Users/deadman/Session-Management/frontend/src/views/examples/App4.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport useAxios from 'axios-hooks';\nimport Tab from \"./Tab\";\nimport { useParams, useHistory, useLocation } from \"react-router\";\nimport \"./App4.css\";\nvar url = 'http://159.65.150.184:9200/ai_economics_v1_1/_search';\n\nfunction App4({\n  level2_key,\n  match\n}) {\n  // const history = useHistory()\n  const params = useParams();\n  const location = useLocation();\n  let level2key = params.level2key;\n  const [links, changeLinks] = useState([]);\n  const [level3_key, setLevel3] = useState(\"\");\n  var query = {\n    \"query\": {\n      \"match\": {\n        \"Level2.keyword\": level2key\n      }\n    },\n    \"aggs\": {\n      \"level3_feilds\": {\n        \"terms\": {\n          \"field\": \"Level3.keyword\"\n        }\n      }\n    },\n    \"size\": 0\n  };\n  var urlLink = url + '?source_content_type=application/json&source=' + JSON.stringify(query);\n  const [{\n    data,\n    loading,\n    error\n  }, refetch] = useAxios(urlLink);\n  useEffect(() => {\n    // console.log(\"history\",history)\n    // console.log(\"loaction\",location.state.from)\n    if (data) {\n      let links_list = data.aggregations.level3_feilds.buckets;\n      let list = links_list.map(s => s.key);\n      changeLinks(list);\n      console.log(\"data-hook\");\n    }\n  }, [data]);\n  useEffect(() => {\n    if (location.state) {\n      setLevel3(location.state.from);\n    }\n  }, []);\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }\n  }, \"Loading...\");\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Error!\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hpage2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, links.map((link, j) => {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: \"black\"\n      },\n      key: j,\n      herf: \"\",\n      onClick: e => setLevel3(e.target.text),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 18\n      }\n    }, link, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 109\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    level3_key: level3_key,\n    level2_key: level2key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  })));\n}\n\nexport default App4;","map":{"version":3,"sources":["/Users/deadman/Session-Management/frontend/src/views/examples/App4.js"],"names":["React","useState","useEffect","axios","useAxios","Tab","useParams","useHistory","useLocation","url","App4","level2_key","match","params","location","level2key","links","changeLinks","level3_key","setLevel3","query","urlLink","JSON","stringify","data","loading","error","refetch","links_list","aggregations","level3_feilds","buckets","list","map","s","key","console","log","state","from","color","link","j","e","target","text"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport useAxios from 'axios-hooks';\nimport Tab from \"./Tab\";\nimport {useParams,useHistory,useLocation} from \"react-router\";       \nimport \"./App4.css\";\n\nvar url = 'http://159.65.150.184:9200/ai_economics_v1_1/_search'\n\nfunction App4({level2_key,match}) {\n    // const history = useHistory()\n    const params = useParams()\n    const location = useLocation()\n\n    let level2key=params.level2key\n\n    const [links,changeLinks] = useState([])\n    const [level3_key,setLevel3] = useState(\"\")\n    var query = {\n        \"query\": {\n            \"match\": {\n                \"Level2.keyword\": level2key\n            }\n        },\n        \"aggs\": {\n            \"level3_feilds\": {\n                \"terms\": {\n                \"field\": \"Level3.keyword\"\n                }\n            }\n        },\n        \"size\": 0\n    }\n\n    var urlLink = url+'?source_content_type=application/json&source='+JSON.stringify(query)\n\n    const [{ data, loading, error }, refetch] = useAxios(urlLink)\n\n    useEffect(() => {\n        // console.log(\"history\",history)\n        // console.log(\"loaction\",location.state.from)\n        if(data){\n            let links_list = data.aggregations.level3_feilds.buckets\n            let list = links_list.map(s => s.key)\n            changeLinks(list)\n            console.log(\"data-hook\")\n            \n        }\n    },[data])\n\n    useEffect(() => {\n        if(location.state){\n            setLevel3(location.state.from)\n        }\n    },[])\n         \n\n  if (loading) return <p style={{color:\"black\"}}>Loading...</p>\n  if (error) return <p style={{color:\"black\"}}>Error!</p>\n\n    \n  \n  \n \n  return (\n    <div className=\"hpage2\">\n      {/* <button onClick={refetch}>refetch</button> */}\n      <div className=\"left-div\">\n      {/* <h1 style={{color:\"black\"}}>{level2key}</h1> */}\n      {/* <pre>{JSON.stringify( links, null, 2)}</pre> */}\n      {links.map((link,j) => {\n          return <a style={{color:\"black\"}} key={j} herf=\"\" onClick={(e) => setLevel3(e.target.text)}>{link}<br /></a>\n      })}\n      </div>\n      <div className=\"right-div\">\n      <Tab level3_key={level3_key} level2_key={level2key}/>\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default App4;\n"]},"metadata":{},"sourceType":"module"}