{"ast":null,"code":"var _jsxFileName = \"/home/dhakad/Documents/AI/Frontend_Test/src/views/examples/ecochartnews.js\";\nimport React, { useState, useEffect } from 'react';\nimport News from './News';\nimport { useParams, useHistory } from 'react-router';\nimport DatatablePage from './sun';\nimport axios from 'axios';\nimport Example from './cc';\nimport { MDBBtn } from 'mdbreact';\n\nfunction Ecochartnews(props) {\n  const history = useHistory();\n  const params = useParams(); // console.log(params) \n\n  let level2_key = params.level2key;\n  let level3_key = params.lev3;\n  let level4_key = params.lev4;\n  let level5_key = params.lev5;\n  let level6_key = params.lev6;\n  const url = process.env.REACT_APP_ELASTIC_URL + process.env.REACT_APP_ELASTIC_ECONOMICS_INDEX + '/_search';\n  const [temp, setData] = useState([]);\n  const [list, setlist] = useState([]);\n  const [depth, setdepth] = useState();\n  var [v3, setv3] = useState();\n  if (depth == 5) v3 = level3_key;else if (depth == 6) v3 = level4_key;else if (depth == 7) v3 = level5_key;else if (depth == 8) v3 = level6_key;\n  console.log(v3);\n  useEffect(() => {\n    let query = {\n      \"query\": {\n        \"bool\": {\n          \"must\": [{\n            \"match\": {\n              \"Level2.keyword\": level2_key\n            }\n          }],\n          \"filter\": [{\n            \"term\": {\n              \"Level3.keyword\": level3_key\n            }\n          }]\n        }\n      },\n      \"aggs\": {\n        \"level3_feilds\": {\n          \"terms\": {\n            \"field\": \"Level3.keyword\"\n          }\n        },\n        \"level4_feilds\": {\n          \"terms\": {\n            \"field\": \"Level4.keyword\"\n          }\n        },\n        \"level5_feilds\": {\n          \"terms\": {\n            \"field\": \"Level5.keyword\"\n          }\n        },\n        \"depth\": {\n          \"terms\": {\n            \"field\": \"Level_depth\"\n          }\n        }\n      },\n      \"size\": 10000\n    };\n    axios.post(url, query).then(d => {\n      if (d.status === 200) {\n        let data = d.data.hits.hits;\n        let v1, v2;\n        const depth = d.data.aggregations.depth.buckets[0].key;\n        setdepth(depth);\n        setv3(\"level\" + (depth - 2) + \"_key\");\n        console.log({\n          v3\n        });\n        var temp = {};\n\n        for (var x in data) {\n          let dataobject = data[x]._source;\n          v1 = \"Level\" + (depth - 2);\n          v2 = \"Level\" + (depth - 1);\n          let key = dataobject[v1];\n          console.log(key);\n\n          if (dataobject[v2] !== null) {\n            let l = [dataobject[v2], dataobject.data];\n            temp[key] = temp[key] || [];\n            temp[key].push(l);\n          }\n        }\n\n        let info = d.data.aggregations[\"level\" + (depth - 2) + \"_feilds\"].buckets;\n        let list = info.map(s => {\n          return {\n            \"label\": s.key,\n            \"value\": s.key\n          };\n        });\n        setlist(list);\n        setData(temp);\n        console.log(list);\n        console.log(temp);\n      } else {\n        console.log(\"err\");\n      }\n    }).catch(error => {\n      if (error) {\n        console.log(error);\n      } else {\n        console.log(\"Error!\");\n      }\n    });\n    if (depth == 5) v3 = level3_key;else if (depth == 6) v3 = level4_key;else if (depth == 7) v3 = level5_key;else if (depth == 8) v3 = level6_key;\n    setv3(v3);\n    console.log(v3);\n  }, [level3_key, level2_key, v3, depth, level4_key, level5_key, level6_key]); // let variable1=\"level\"+(depth-2)\n  // setv3(variable1)\n\n  const Tablecreate = k => {\n    console.log(k);\n    var columns = [{\n      label: 'Year',\n      field: 'Year',\n      sort: 'dsc',\n      width: 150\n    }];\n    var cc = []; // console.log(temp)\n\n    for (let i in temp[k]) {\n      let xy = temp[k][i][0];\n      let str = \"\";\n      if (depth == 5) str = level2_key;else if (depth == 6) str = level2_key + \"/\" + level3_key;else if (depth == 7) str = level2_key + \"/\" + level3_key + \"/\" + level4_key;else if (depth == 8) str = level2_key + \"/\" + level3_key + \"/\" + level4_key + \"/\" + level5_key;\n      cc.push({\n        \"label\": /*#__PURE__*/React.createElement(React.Fragment, null, xy, /*#__PURE__*/React.createElement(MDBBtn, {\n          onClick: () => {\n            history.push(\"/AI-Economics/\" + str + \"/\" + k + \"/\" + xy);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          class: \"fas fa-chart-line\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 104\n          }\n        }))),\n        \"field\": xy,\n        \"sort\": 'asc',\n        \"width\": 200\n      });\n    }\n\n    columns = columns.concat(cc);\n    let x;\n\n    for (let i in temp[k]) {\n      x = temp[k][i][1];\n      break;\n    }\n\n    let rows = [];\n\n    for (let i in x) {\n      let sup = {\n        \"Year\": parseInt(i)\n      };\n      let abc;\n      let p = [];\n      let q = [];\n\n      for (let j in temp[k]) {\n        let z = temp[k][j];\n        p.push(z[0]);\n        q.push(z[1][i]);\n      }\n\n      for (let j = 0; j < p.length; j++) {\n        sup[p[j]] = q[j];\n      }\n\n      rows.push(sup);\n    }\n\n    var tabledata = {\n      columns,\n      rows\n    }; // console.log(tabledata)\n    // console.log(temp[k])\n\n    return /*#__PURE__*/React.createElement(DatatablePage, {\n      data: tabledata,\n      xscrolling: true,\n      yscrolling: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Example, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, level2_key, \">\", level3_key), Tablecreate(v3)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(News, {\n    lev5: `${level2_key}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Ecochartnews;","map":{"version":3,"sources":["/home/dhakad/Documents/AI/Frontend_Test/src/views/examples/ecochartnews.js"],"names":["React","useState","useEffect","News","useParams","useHistory","DatatablePage","axios","Example","MDBBtn","Ecochartnews","props","history","params","level2_key","level2key","level3_key","lev3","level4_key","lev4","level5_key","lev5","level6_key","lev6","url","process","env","REACT_APP_ELASTIC_URL","REACT_APP_ELASTIC_ECONOMICS_INDEX","temp","setData","list","setlist","depth","setdepth","v3","setv3","console","log","query","post","then","d","status","data","hits","v1","v2","aggregations","buckets","key","x","dataobject","_source","l","push","info","map","s","catch","error","Tablecreate","k","columns","label","field","sort","width","cc","i","xy","str","concat","rows","sup","parseInt","abc","p","q","j","z","length","tabledata"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport News from './News'\nimport { useParams, useHistory } from 'react-router'\nimport DatatablePage from './sun'\nimport axios from 'axios'\nimport Example from './cc'\nimport { MDBBtn } from 'mdbreact'\n\nfunction Ecochartnews(props){\n    const history=useHistory()\n    const params=useParams()\n    // console.log(params) \n    let level2_key=params.level2key\n    let level3_key=params.lev3\n    let level4_key=params.lev4\n    let level5_key=params.lev5\n    let level6_key=params.lev6\n    const url = process.env.REACT_APP_ELASTIC_URL+process.env.REACT_APP_ELASTIC_ECONOMICS_INDEX+'/_search'\n    \n  \n    const [temp, setData] = useState([])\n    const [list, setlist]=useState([])\n    const [depth,setdepth]=useState()\n    var [v3,setv3]=useState()\n    if(depth==5)\n          v3=level3_key\n        else if(depth==6)  \n          v3=level4_key\n        else if(depth==7)\n          v3=level5_key\n        else if(depth==8)\n          v3=level6_key\n    console.log(v3)\n\n\n    useEffect(() => {\n      let query = {\n        \"query\": {\n          \"bool\": {\n            \"must\": [\n              {\"match\": {\"Level2.keyword\":level2_key}}\n            ],\n            \"filter\": [\n              {\"term\": {\"Level3.keyword\": level3_key}}\n            ]\n            \n          }\n        },\n             \"aggs\": {\n          \"level3_feilds\": {\n            \"terms\": {\n              \"field\": \"Level3.keyword\"\n            }\n          },\n          \"level4_feilds\": {\n            \"terms\": {\n              \"field\": \"Level4.keyword\"\n            }\n          },\n          \"level5_feilds\": {\n            \"terms\": {\n              \"field\": \"Level5.keyword\"\n            }\n          },\n          \"depth\":{\n            \"terms\": {\n              \"field\": \"Level_depth\"\n            }\n          }\n        },\n        \"size\":10000\n      }\n  \n  \n      axios.post(url, query)\n          .then( d => {\n              if(d.status === 200 ){\n                let data = d.data.hits.hits\n                let v1,v2\n                const depth=d.data.aggregations.depth.buckets[0].key\n                setdepth(depth)\n                setv3(\"level\"+(depth-2)+\"_key\")\n                console.log({v3})\n                var temp = {}\n                for(var x in data){\n                  let dataobject = data[x]._source\n                  v1=\"Level\"+(depth-2)\n                  v2=\"Level\"+(depth-1)\n                  let key = dataobject[v1]\n                  console.log(key)\n                  if( dataobject[v2] !== null){\n                  let l = [dataobject[v2],dataobject.data]\n                  \n                  temp[key] = temp[key] || [];\n                  \n                  temp[key].push(l)\n                  }\n                }\n                \n                let info = d.data.aggregations[\"level\"+(depth-2)+\"_feilds\"].buckets\n                let list = info.map(s => {return {\"label\" : s.key ,\"value\" : s.key}})\n                setlist(list)\n                setData(temp)\n                console.log(list)\n                console.log(temp)\n                }\n                else{\n                  console.log(\"err\")\n              }\n          })\n          .catch( error => {\n              if (error) {\n                console.log(error)\n              }\n              else{\n                  console.log(\"Error!\");\n              }\n          });\n          if(depth==5)\n          v3=level3_key\n        else if(depth==6)  \n          v3=level4_key\n        else if(depth==7)\n          v3=level5_key\n        else if(depth==8)\n          v3=level6_key\n          setv3(v3)\n    console.log(v3)\n    }, [level3_key,level2_key,v3,depth,level4_key,level5_key,level6_key])\n  \n  // let variable1=\"level\"+(depth-2)\n  // setv3(variable1)\n    \n  \n    const Tablecreate = (k) => {\n      console.log(k)\n\n      var columns= [\n        {\n          label: 'Year',\n          field: 'Year',\n          sort: 'dsc',\n          width: 150\n        }\n      ]\n      var cc=[]\n      // console.log(temp)\n      for(let i in temp[k])\n      {let xy=(temp[k][i][0]);\n        let str=\"\"\n        if(depth==5)\n          str=level2_key\n        else if(depth==6)  \n          str=level2_key+\"/\"+level3_key  \n        else if(depth==7)\n          str=level2_key+\"/\"+level3_key+\"/\"+level4_key\n        else if(depth==8)\n          str=level2_key+\"/\"+level3_key+\"/\"+level4_key+\"/\"+level5_key\n       cc.push({\"label\":<>{xy}<MDBBtn onClick={()=>{history.push(\"/AI-Economics/\"+str+\"/\"+k+\"/\"+xy)}} ><i class=\"fas fa-chart-line\"></i></MDBBtn></>,\"field\":xy,\"sort\":'asc',\"width\":200})\n      }\n      columns=columns.concat(cc)\n      let x;\n      for(let i in temp[k])\n      {\n        x=(temp[k][i][1])\n        break;\n      }\n      let rows=[]\n      for(let i in x)\n      {\n        let sup={\"Year\":parseInt(i)}\n        let abc;\n        let p=[]\n        let q=[]\n        for(let j in temp[k])\n      {\n        let z=temp[k][j]\n        \n        p.push(z[0])\n        q.push(z[1][i])\n        \n      }\n      for (let j = 0; j < p.length; j++) {\n        sup[p[j]] = q[j];\n      }\n      rows.push(sup)\n      } \n      var tabledata = {columns,rows};\n      // console.log(tabledata)\n      // console.log(temp[k])\n      \n      return(\n        <DatatablePage data={tabledata} xscrolling={true} yscrolling={true}  />\n      )\n    }\n  \n    return(\n        <div>\n            <div>\n                <Example/>\n            </div>\n            <div >\n                <h2>{level2_key}>{level3_key}</h2>\n                {Tablecreate(v3)}\n                \n            </div>\n            <div>\n                <News lev5={`${level2_key}`}/>\n            </div>\n        </div>\n    )\n}\nexport default Ecochartnews"]},"metadata":{},"sourceType":"module"}